define("modules/Observer",[],(function(){return class{constructor(){this.observers=[]}addObserver(e){"function"==typeof e&&this.observers.push(e)}removeObserver(e){this.observers=this.observers.filter((t=>t!==e))}notify(e){this.observers.forEach((t=>t(e)))}}})),define("modules/NodeManager",["modules/Observer"],(function(e){return class{constructor(){this.currentNode=null,this.observer=new e}setCurrentNode(e){this.currentNode=e,this.observer.notify({action:"currentNodeChanged",node:e})}getCurrentNode(){return this.currentNode}addObserver(e){this.observer.addObserver(e)}removeObserver(e){this.observer.removeObserver(e)}}})),define("modules/Node",[],(function(){return class{constructor(e,t="",s=null){this.name=e,this.value=t,this.children=[],this.data={},this.parent=s,this.elementId=""}findChildByStringProperty(e,t){return this.children.find((s=>s[e].toLowerCase()===t.toLowerCase()))||null}getPath(){const e=[];let t=this;for(;t;)e.unshift({name:t.name,value:t.value}),t=t.parent;return e}}})),define("modules/NodeTree",["modules/Node"],(function(e){return class{constructor(t){this.keys=t,this.root=new e("Root")}getRoot(){return this.root}buildTree(e){e.forEach((e=>{e[this.keys[0]].split("_").forEach((t=>{const s=this.keys[0],n=t.trim().toLowerCase(),i=this.addNewNode(n,s,this.root);this.addBranch(i,e)}))}))}addNewNode(t,s,n,i={}){const o=n.findChildByStringProperty("value",t);if(o)return o;{const o=new e(s,t,n);return o.data=i,n.children.push(o),o}}addBranch(e,t){let s=e;for(let e=1;e<this.keys.length;e++){const n=this.keys[e],i=t[n].trim();s="part"===n?this.addNewNode(i,n,s,t):this.addNewNode(i,n,s)}}findChildByOptions(e,t){for(let s=0;s<e.children.length;s++){const n=e.children[s];let i=!0;for(let e in t)if(n[e].toLowerCase()!==t[e].toLowerCase()){i=!1;break}if(i)return n}return null}depthFirstSearch(e,t){let s=!0;for(let n in t)if(e[n].toLowerCase()!==t[n].toLowerCase()){s=!1;break}if(s)return e;for(let s=0;s<e.children.length;s++){let n=e.children[s],i=this.depthFirstSearch(n,t);if(null!==i)return i}return null}}})),define("modules/quiz/QuestionStrategy",[],(function(){return class{constructor(e,t,s){this.experience=e,this.name=t}modifySearchOptions(e,t){throw new Error("This method should be overridden!")}displayAnswerOptions(){throw new Error("This method should be overriden!")}}})),define("modules/quiz/MaskingStrategy",["modules/quiz/QuestionStrategy"],(function(e){return class extends e{constructor(e,t,s,n){super(e,t),this.CerosSDK=s,this.nodeManager=n,this.masksCollection=this.experience.findLayersByTag(`mask:${this.name}`),this.registerMaskAnimations()}modifySearchOptions(e,t){const s=t.getPayload().trim();return e.value=s,e}displayAnswerOptions(e){this.masksCollection.layers.forEach((t=>{this.handleMasks(e.node,t)}))}handleMasks(e,t){e.findChildByStringProperty("value",t.getPayload().trim())?t.hide():t.show()}registerMaskAnimations(){this.masksCollection.on(this.CerosSDK.EVENTS.ANIMATION_STARTED,(e=>{this.nodeManager.getCurrentNode().findChildByStringProperty("value",e.getPayload().trim())&&e.hide()}))}}})),define("modules/quiz/HidingStrategy",["modules/quiz/QuestionStrategy"],(function(e){return class extends e{modifySearchOptions(e,t){return e.elementId=t.id,e}displayAnswerOptions(e){const t=e.node.children.sort(((e,t)=>e.value-t.value)),s=this.experience.findLayersByTag(`${e.node.children[0].name}_even`),n=this.experience.findLayersByTag(`${e.node.children[0].name}_odd`),i=this.experience.findComponentsByTag("mobile").components.length,o=this.experience.findComponentsByTag("tablet").components.length;i||o?this.displayMobileLayoutOptions(n,s,t):this.displayDesktopLayoutOptions(n,s,t)}displayDesktopLayoutOptions(e,t,s){s.length%2==0?(e.hide(),t.show(),this.handleTextOptions(t,s)):(e.show(),t.hide(),this.handleTextOptions(e,s))}displayMobileLayoutOptions(e,t,s){s.length%2==0?(e.hide(),t.show(),this.handleMobileTextOptions(t,s)):(e.show(),t.hide(),this.handleMobileTextOptions(e,s))}handleTextOptions(e,t){const s=e.layers[0].findAllComponents(),n=s.layersByTag.answer.length,i=Math.floor((n-t.length)/2);let o=0;s.layers.forEach(((e,s)=>{if("text"===e.type)o>=i&&o-i<t.length?(e.setText(t[o-i].value),t[o-i].elementId=e.id):e.hide(),o++;else if("line"===e.type){const s=isNaN(e.getPayload())?null:Number(e.getPayload());s?s>i&&s-i<t.length||e.hide():console.error(`there is no position number in payload of divider line with id ${e.id} in question ${t[0].name}`)}}))}handleMobileTextOptions(e,t){const s=e.layers[0].findAllComponents();let n=0;1===t.length?this.handleOneOptionInMobileView(t,s):s.layers.forEach(((e,s)=>{if("text"===e.type)n<t.length?(e.setText(t[n].value),t[n].elementId=e.id):e.hide(),n++;else if("line"===e.type){const s=isNaN(e.getPayload())?null:Number(e.getPayload());s?(s>=t.length||(4===t.length||5===s.length)&&s>t.length-2)&&e.hide():console.error(`there is no position number in payload of divider line with id ${e.id} in question ${t[0].name}`)}}))}handleOneOptionInMobileView(e,t){let s=0;t.layers.forEach((t=>{"text"===t.type?(1===s?(t.setText(e[0].value),e[0].elementId=t.id):t.hide(),s++):t.hide()}))}}})),define("modules/LandingPageProxy",[],(function(){return class{constructor(){this.windowObjectReference=null,this.isPreview=window.self==window.top&&window.location.hostname.includes(".preview.ceros")}sendUAEvent(e){if(window.self!==window.top){const t={event_category:"CEROS",event_label:e,event_action:"outbound_link_click"};parent.postMessage(JSON.stringify(t),"*")}else dataLayer.push({event:"ceros-event",cerosAction:"ceros_outbound_link_click",cerosCategory:"CEROS",cerosLabel:e}),this.openRequestedSingleTab(e)}openRequestedSingleTab(e){null===this.windowObjectReference||this.windowObjectReference.closed?this.windowObjectReference=window.open(e,"_blank"):(this.windowObjectReference=window.open(e,"_blank"),this.windowObjectReference.focus())}openAndTrackLink(e,t){t()||(this.isPreview?this.openRequestedSingleTab(e):this.sendUAEvent(e))}}})),define("modules/quiz/ResultHandler",["modules/LandingPageProxy"],(function(e){return class{constructor(t,s,n,i,o){this.experience=t,this.CerosSDK=s,this.nodeManager=n,this.resultModules={},this.distributor=i,this.utils=o,this.landingPageProxy=new e}showResultModule(e){this.updateModuleResults(e);this.experience.findComponentsByTag(`module-${e}`).click()}updateModuleResults(e){this.nodeManager.getCurrentNode().children.forEach(((t,s)=>{const n=this.getModuleTag(e,s),i=this.experience.findLayersByTag(n);if(!i.layers.length)return void console.error(`No module found with tag: ${n}`);const o=i.layers[0].findAllComponents().layersByTag,r=t.data,a=e.toString();Object.hasOwn(this.resultModules,a)&&this.resultModules[a][n]?(this.resultModules[a]=this.resultModules[a]||{},this.resultModules[a][n]=r):(this.resultModules[a]=this.resultModules[a]||{},this.resultModules[a][n]=r,this.processLayers(o,n,r)),console.log(this.resultModules)}))}getModuleTag(e,t){return e>1?`${e}-module-${t+1}`:`${e}-module`}processLayers(e,t,s){e.images&&this.showResultImage(t,this.handleModuleImage,e.images),e.icons&&this.showResultImage(t,this.handleModuleIcon,e.icons),e.part&&this.updateResultTextbox("part",t,e.part),e.features&&this.updateResultTextbox("features",t,e.features),e.datasheet&&this.registerResultClcikEvent(e.datasheet,"datasheet",t),e["buy-now"]&&this.registerResultClcikEvent(e["buy-now"],this.distributor,t),e.specs&&this.updateResultTextbox("specs",t,e.specs)}showResultImage(e,t,s){s.forEach((s=>{s.on(this.CerosSDK.EVENTS.ANIMATION_STARTED,(s=>{const n=e.split("-")[0],i=this.resultModules[n][e];s.findAllComponents().layers.forEach((e=>t(e,i)))}))}))}updateResultTextbox(e,t,s){s.forEach((s=>{s.on(this.CerosSDK.EVENTS.ANIMATION_STARTED,(s=>{const n=t.split("-")[0],i=this.resultModules[n][t];s.setText(i[e])}))}))}registerResultClcikEvent(e,t,s){e.forEach((e=>{e.on(this.CerosSDK.EVENTS.CLICKED,(()=>{const e=s.split("-")[0],n=this.resultModules[e][s];this.landingPageProxy.openAndTrackLink(n[t],this.utils.isDoubleClickBug.bind(this.utils))}))}))}handleModuleIcon(e,t){t.application.toLowerCase().includes(e.getPayload().toLowerCase())?e.show():e.hide()}handleModuleImage(e,t){t.image.split(".")[0].trim().toLowerCase()===e.getPayload().toLowerCase()?e.show():e.hide()}}})),define("modules/quiz/QuizContext",["modules/quiz/MaskingStrategy","modules/quiz/HidingStrategy","modules/quiz/ResultHandler"],(function(e,t,s){return class{constructor(e,t,n,i,o,r,a){this.CerosSDK=e,this.experience=t,this.nodeManager=a,this.nodeTree=r,this.navDict=n,this.distributor=i,this.utils=o,this.questions={},this.setObservers(),this.resultHandler=new s(this.experience,this.CerosSDK,this.nodeManager,this.distributor,this.utils),this.pathCollection=t.findComponentsByTag("path")}setObservers(){this.nodeManager.addObserver(this.handleNodeChange.bind(this)),this.nodeManager.addObserver(this.updatePath.bind(this))}setStrategy(e,t){this.questions[t]=e}setStrategiesBasedOnQuestionName(s,n){s.forEach((s=>{const i=n.includes(s)?new t(this.experience,s):new e(this.experience,s,this.CerosSDK,this.nodeManager);this.setStrategy(i,s)}))}resetQuiz(){this.nodeManager.setCurrentNode(this.nodeTree.getRoot())}onAnswerClick(e){const t=e.getTags().find((e=>e.includes("q:"))).split(":")[1],s=this.nodeManager.getCurrentNode(),n=this.questions[t].modifySearchOptions({name:t},e),i=this.nodeTree.findChildByOptions(s,n);i?this.nodeManager.setCurrentNode(i):console.error(`coudn't find node with ${t} and value ${val}`)}handleNodeChange(e){if("currentNodeChanged"===e.action){const t=e.node.children[0]?e.node.children[0].name:"";"part"===t?this.resultHandler.showResultModule(e.node.children.length):this.questions[t].displayAnswerOptions(e)}}handleBackNavigation(){this.utils.isDoubleClickBug()?console.log("detected double click"):this.nodeManager.setCurrentNode(this.nodeManager.getCurrentNode().parent)}handleRandomNavigation(e){const t=e.getPayload().toLowerCase();let s=this.nodeManager.getCurrentNode(),n=!1;for(;s.parent&&!n;)s.name===t&&(n=!0),s=s.parent;this.nodeManager.setCurrentNode(s)}updatePath(e){let t=e.node;const s=[];t.getPath().forEach((({name:e,value:t})=>{if("Root"===e)return;const n=this.navDict[e],i="polarized"===e?this.utils.getPolarizedValue(t.toLowerCase()):this.utils.capitalize(t.split(" ").join("")),o=n.replace("{{}}",i);s.push(o)})),s.length?this.pathCollection.setText(s.join("  >  ")):this.pathCollection.setText(""),this.pathCollection.show()}}})),define("modules/Utils",[],(function(){return class{constructor(){this.clickTime=0}isDoubleClickBug(){const e=Date.now(),t=e-this.clickTime<200;return this.clickTime=e,t}getPolarizedValue(e){return e.toLowerCase().includes("no")?"No":"Yes"}capitalize(e){return e?e[0].toUpperCase()+e.slice(1).toLowerCase():""}}})),function(){"use strict";const e=document.getElementById("dc-contactor"),t=e.getAttribute("data-link")||"",s=e.getAttribute("data-distributor")||"";let n="./";const i=e.getAttribute("src");if(void 0!==i&&new URL(i)){const e=new URL(i),t=e.pathname.split("/").slice(0,-1).join("/")+"/";n=e.origin+t}"undefined"!=typeof require&&require.config({paths:{CerosSDK:"//sdk.ceros.com/standalone-player-sdk-v5.min",PapaParse:"https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min",modules:n+"modules"}}),require(["CerosSDK","PapaParse","modules/NodeManager","modules/NodeTree","modules/quiz/QuizContext","modules/Utils"],(function(e,n,i,o,r,a){e.findExperience().done((function(l){const d=["application","max-voltage","current-rating","coil-voltage","mounting","aux-contacts","polarized","part"],h=new a,u=new o(d),c=new i;c.setCurrentNode(u.getRoot());const g=new r(e,l,{application:"Application: {{}}","max-voltage":"Max Voltage: {{}}V","current-rating":"Current: {{}}A","coil-voltage":"Coil Voltage: {{}}V",mounting:"Mounting: {{}}","aux-contacts":"Aux Contacts: {{}}",polarized:"Polarized: {{}}"},s,h,u,c),p=l.findLayersByTag("reset"),f=l.findLayersByTag("back"),m=l.findComponentsByTag("answer"),y=l.findComponentsByTag("nav");n.parse(t,{download:!0,header:!0,complete:e=>{u.buildTree(e.data)}}),g.setStrategiesBasedOnQuestionName(d,["coil-voltage","current-rating"]),f.on(e.EVENTS.CLICKED,g.handleBackNavigation.bind(g)),p.on(e.EVENTS.CLICKED,g.resetQuiz.bind(g)),m.on(e.EVENTS.CLICKED,g.onAnswerClick.bind(g)),y.on(e.EVENTS.CLICKED,g.handleRandomNavigation.bind(g))})).fail((function(e){console.log(e)}))}))}(jQuery),define("main_with_modules",(function(){}));